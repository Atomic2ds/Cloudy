version: '3.8'

services:

  # The main discord.py bot container
  discord-bot:
    restart: always
    build: .
    container_name: cloudy-bot
    depends_on:
      - mongodb
    environment: 
     TESTING: "false"
     TOKEN: "MTA5MDkxNzE3NDk5MTkzMzU0MA.GLmMRc.jVI_0kGl_EjjUWXG444WbKLE-bvjG85Jd60amY"

  #The main database cloudy uses for data storage
  mongodb:
    restart: always
    image: mongo:latest
    container_name: cloudy-mongodb
    volumes:
      - mongodb_data:/data/db
    ports:
      - "30312:27017"


volumes:
  mongodb_data: